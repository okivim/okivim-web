# LSP / DAP / formatters

import '@site/src/css/icons.css';
import BashIcon from '@site/static/img/icons/bash-plain.svg';
import DockerIcon from '@site/static/img/icons/docker-plain.svg';
import CIcon from '@site/static/img/icons/c-original.svg';
import CPlusPlusIcon from '@site/static/img/icons/cplusplus-plain.svg';
import EslintIcon from '@site/static/img/icons/eslint-plain.svg';
import JsonIcon from '@site/static/img/icons/json-plain.svg';
import LuaIcon from '@site/static/img/icons/lua-plain.svg';
import PhpIcon from '@site/static/img/icons/php-plain.svg';
import PythonIcon from '@site/static/img/icons/python-plain.svg';
import RustIcon from '@site/static/img/icons/rust-original.svg';
import TailwindIcon from '@site/static/img/icons/tailwindcss-original.svg';
import CssIcon from '@site/static/img/icons/css3-plain.svg';
import JavascriptIcon from '@site/static/img/icons/javascript-plain.svg';
import TypescriptIcon from '@site/static/img/icons/typescript-plain.svg';
import VueIcon from '@site/static/img/icons/vuejs-original.svg';
import ReactIcon from '@site/static/img/icons/react-original.svg';
import AstroIcon from '@site/static/img/icons/astro-plain.svg';
import YamlIcon from '@site/static/img/icons/yaml-plain.svg';

## LSP servers

<p className="icons-wrapper">
<BashIcon className="icon" title="Bash" />
<DockerIcon className="icon" title="Docker" />
<CIcon className="icon" title="C" />
<CPlusPlusIcon className="icon" title="C++" />
<EslintIcon className="icon" title="Eslint" />
<JsonIcon className="icon" title="Json" />
<LuaIcon className="icon" title="Lua" />
<PhpIcon className="icon" title="Php" />
<PythonIcon className="icon" title="Python" />
<RustIcon className="icon" title="Rust" />
<TailwindIcon className="icon" title="Tailwind" />
<CssIcon className="icon" title="CSS" />
<JavascriptIcon className="icon" title="Javascript" />
<TypescriptIcon className="icon" title="Typescript" />
<VueIcon className="icon" title="Vue.js" />
<ReactIcon className="icon" title="React" />
<AstroIcon className="icon" title="Astro" />
<YamlIcon className="icon" title="Yaml" />
</p>

These LSPs, formatters, linters, and debug adapters are automatically installed and enabled. All of them are managed by Mason.

There are two ways to add a new LSP:

**1. Install it manually using Mason**  
This is useful for quick testing, but the change will **not be persistent** if you move the configuration to another machine.

**2. Register it in the configuration (recommended)**  
Create a Lua file with the name of the server inside:

E.g. `lua/okivim/lsp/servers/clangd.lua`

and add the configuration as described in the official documentation.  

```lua
return function(capabilities)
  vim.lsp.config("clangd", {
    capabilities = capabilities,
    cmd = {
      "clangd",
      "--background-index",
      "--clang-tidy",
      "--completion-style=detailed",
      "--header-insertion=iwyu",
    },
  })
end
```

:::info
The configuration is designed so that LSPs are automatically detected and added to the auto-install list based on the server file name; therefore, the file name must match the LSP server name.
:::

A full list of available LSP servers can be found here:  
https://github.com/neovim/nvim-lspconfig/blob/master/doc/configs.md

By doing this, the LSP will be registered in the list of servers that are automatically installed and configured, making the setup fully reproducible across machines.

## Debug adapters (DAP)

- debugpy (Python)
- codelldb (Rust / C / C++)
- js-debug-adapter (JS / TS)
- php-debug-adapter (PHP)

:::info
The Debug Adapter Protocol (DAP) configurations are defined in `lua/okivim/plugins/dap.lua`
:::

## Formatters

- prettierd
- stylelint
- taplo

:::info
Formatter configurations are defined in `lua/okivim/plugins/conform.lua`
:::
